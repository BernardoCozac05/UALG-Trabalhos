
# Programa simplificado com tabela Z completa (z de 0.00 a 3.99 em passos de 0.01)
# Apenas permite escolher entre teste Z ou T, e imprime os 3 p-valores

phi_table = {
    "0.00": 0.5,
    "0.01": 0.503989,
    "0.02": 0.507978,
    "0.03": 0.511966,
    "0.04": 0.515953,
    "0.05": 0.519939,
    "0.06": 0.523922,
    "0.07": 0.527903,
    "0.08": 0.531881,
    "0.09": 0.535856,
    "0.10": 0.539828,
    "0.11": 0.543795,
    "0.12": 0.547758,
    "0.13": 0.551717,
    "0.14": 0.55567,
    "0.15": 0.559618,
    "0.16": 0.563559,
    "0.17": 0.567495,
    "0.18": 0.571424,
    "0.19": 0.575345,
    "0.20": 0.57926,
    "0.21": 0.583166,
    "0.22": 0.587064,
    "0.23": 0.590954,
    "0.24": 0.594835,
    "0.25": 0.598706,
    "0.26": 0.602568,
    "0.27": 0.60642,
    "0.28": 0.610261,
    "0.29": 0.614092,
    "0.30": 0.617911,
    "0.31": 0.62172,
    "0.32": 0.625516,
    "0.33": 0.6293,
    "0.34": 0.633072,
    "0.35": 0.636831,
    "0.36": 0.640576,
    "0.37": 0.644309,
    "0.38": 0.648027,
    "0.39": 0.651732,
    "0.40": 0.655422,
    "0.41": 0.659097,
    "0.42": 0.662757,
    "0.43": 0.666402,
    "0.44": 0.670031,
    "0.45": 0.673645,
    "0.46": 0.677242,
    "0.47": 0.680822,
    "0.48": 0.684386,
    "0.49": 0.687933,
    "0.50": 0.691462,
    "0.51": 0.694974,
    "0.52": 0.698468,
    "0.53": 0.701944,
    "0.54": 0.705401,
    "0.55": 0.70884,
    "0.56": 0.71226,
    "0.57": 0.715661,
    "0.58": 0.719043,
    "0.59": 0.722405,
    "0.60": 0.725747,
    "0.61": 0.729069,
    "0.62": 0.732371,
    "0.63": 0.735653,
    "0.64": 0.738914,
    "0.65": 0.742154,
    "0.66": 0.745373,
    "0.67": 0.748571,
    "0.68": 0.751748,
    "0.69": 0.754903,
    "0.70": 0.758036,
    "0.71": 0.761148,
    "0.72": 0.764238,
    "0.73": 0.767305,
    "0.74": 0.77035,
    "0.75": 0.773373,
    "0.76": 0.776373,
    "0.77": 0.77935,
    "0.78": 0.782305,
    "0.79": 0.785236,
    "0.80": 0.788145,
    "0.81": 0.79103,
    "0.82": 0.793892,
    "0.83": 0.796731,
    "0.84": 0.799546,
    "0.85": 0.802337,
    "0.86": 0.805105,
    "0.87": 0.80785,
    "0.88": 0.81057,
    "0.89": 0.813267,
    "0.90": 0.81594,
    "0.91": 0.818589,
    "0.92": 0.821214,
    "0.93": 0.823814,
    "0.94": 0.826391,
    "0.95": 0.828944,
    "0.96": 0.831472,
    "0.97": 0.833977,
    "0.98": 0.836457,
    "0.99": 0.838913,
    "1.00": 0.841345,
    "1.01": 0.843752,
    "1.02": 0.846136,
    "1.03": 0.848495,
    "1.04": 0.85083,
    "1.05": 0.853141,
    "1.06": 0.855428,
    "1.07": 0.85769,
    "1.08": 0.859929,
    "1.09": 0.862143,
    "1.10": 0.864334,
    "1.11": 0.8665,
    "1.12": 0.868643,
    "1.13": 0.870762,
    "1.14": 0.872857,
    "1.15": 0.874928,
    "1.16": 0.876976,
    "1.17": 0.879,
    "1.18": 0.881,
    "1.19": 0.882977,
    "1.20": 0.88493,
    "1.21": 0.886861,
    "1.22": 0.888768,
    "1.23": 0.890651,
    "1.24": 0.892512,
    "1.25": 0.89435,
    "1.26": 0.896165,
    "1.27": 0.897958,
    "1.28": 0.899727,
    "1.29": 0.901475,
    "1.30": 0.9032,
    "1.31": 0.904902,
    "1.32": 0.906582,
    "1.33": 0.908241,
    "1.34": 0.909877,
    "1.35": 0.911492,
    "1.36": 0.913085,
    "1.37": 0.914657,
    "1.38": 0.916207,
    "1.39": 0.917736,
    "1.40": 0.919243,
    "1.41": 0.92073,
    "1.42": 0.922196,
    "1.43": 0.923641,
    "1.44": 0.925066,
    "1.45": 0.926471,
    "1.46": 0.927855,
    "1.47": 0.929219,
    "1.48": 0.930563,
    "1.49": 0.931888,
    "1.50": 0.933193,
    "1.51": 0.934478,
    "1.52": 0.935745,
    "1.53": 0.936992,
    "1.54": 0.93822,
    "1.55": 0.939429,
    "1.56": 0.94062,
    "1.57": 0.941792,
    "1.58": 0.942947,
    "1.59": 0.944083,
    "1.60": 0.945201,
    "1.61": 0.946301,
    "1.62": 0.947384,
    "1.63": 0.948449,
    "1.64": 0.949497,
    "1.65": 0.950529,
    "1.66": 0.951543,
    "1.67": 0.95254,
    "1.68": 0.953521,
    "1.69": 0.954486,
    "1.70": 0.955435,
    "1.71": 0.956367,
    "1.72": 0.957284,
    "1.73": 0.958185,
    "1.74": 0.95907,
    "1.75": 0.959941,
    "1.76": 0.960796,
    "1.77": 0.961636,
    "1.78": 0.962462,
    "1.79": 0.963273,
    "1.80": 0.96407,
    "1.81": 0.964852,
    "1.82": 0.96562,
    "1.83": 0.966375,
    "1.84": 0.967116,
    "1.85": 0.967843,
    "1.86": 0.968557,
    "1.87": 0.969258,
    "1.88": 0.969946,
    "1.89": 0.970621,
    "1.90": 0.971283,
    "1.91": 0.971933,
    "1.92": 0.972571,
    "1.93": 0.973197,
    "1.94": 0.97381,
    "1.95": 0.974412,
    "1.96": 0.975002,
    "1.97": 0.975581,
    "1.98": 0.976148,
    "1.99": 0.976705,
    "2.00": 0.97725,
    "2.01": 0.977784,
    "2.02": 0.978308,
    "2.03": 0.978822,
    "2.04": 0.979325,
    "2.05": 0.979818,
    "2.06": 0.980301,
    "2.07": 0.980774,
    "2.08": 0.981237,
    "2.09": 0.981691,
    "2.10": 0.982136,
    "2.11": 0.982571,
    "2.12": 0.982997,
    "2.13": 0.983414,
    "2.14": 0.983823,
    "2.15": 0.984222,
    "2.16": 0.984614,
    "2.17": 0.984997,
    "2.18": 0.985371,
    "2.19": 0.985738,
    "2.20": 0.986097,
    "2.21": 0.986447,
    "2.22": 0.986791,
    "2.23": 0.987126,
    "2.24": 0.987455,
    "2.25": 0.987776,
    "2.26": 0.988089,
    "2.27": 0.988396,
    "2.28": 0.988696,
    "2.29": 0.988989,
    "2.30": 0.989276,
    "2.31": 0.989556,
    "2.32": 0.98983,
    "2.33": 0.990097,
    "2.34": 0.990358,
    "2.35": 0.990613,
    "2.36": 0.990863,
    "2.37": 0.991106,
    "2.38": 0.991344,
    "2.39": 0.991576,
    "2.40": 0.991802,
    "2.41": 0.992024,
    "2.42": 0.99224,
    "2.43": 0.992451,
    "2.44": 0.992656,
    "2.45": 0.992857,
    "2.46": 0.993053,
    "2.47": 0.993244,
    "2.48": 0.993431,
    "2.49": 0.993613,
    "2.50": 0.99379,
    "2.51": 0.993963,
    "2.52": 0.994132,
    "2.53": 0.994297,
    "2.54": 0.994457,
    "2.55": 0.994614,
    "2.56": 0.994766,
    "2.57": 0.994915,
    "2.58": 0.99506,
    "2.59": 0.995201,
    "2.60": 0.995339,
    "2.61": 0.995473,
    "2.62": 0.995604,
    "2.63": 0.995731,
    "2.64": 0.995855,
    "2.65": 0.995975,
    "2.66": 0.996093,
    "2.67": 0.996207,
    "2.68": 0.996319,
    "2.69": 0.996427,
    "2.70": 0.996533,
    "2.71": 0.996636,
    "2.72": 0.996736,
    "2.73": 0.996833,
    "2.74": 0.996928,
    "2.75": 0.99702,
    "2.76": 0.99711,
    "2.77": 0.997197,
    "2.78": 0.997282,
    "2.79": 0.997365,
    "2.80": 0.997445,
    "2.81": 0.997523,
    "2.82": 0.997599,
    "2.83": 0.997673,
    "2.84": 0.997744,
    "2.85": 0.997814,
    "2.86": 0.997882,
    "2.87": 0.997948,
    "2.88": 0.998012,
    "2.89": 0.998074,
    "2.90": 0.998134,
    "2.91": 0.998193,
    "2.92": 0.99825,
    "2.93": 0.998305,
    "2.94": 0.998359,
    "2.95": 0.998411,
    "2.96": 0.998462,
    "2.97": 0.998511,
    "2.98": 0.998559,
    "2.99": 0.998605,
    "3.00": 0.99865,
    "3.01": 0.998694,
    "3.02": 0.998736,
    "3.03": 0.998777,
    "3.04": 0.998817,
    "3.05": 0.998856,
    "3.06": 0.998893,
    "3.07": 0.99893,
    "3.08": 0.998965,
    "3.09": 0.998999,
    "3.10": 0.999032,
    "3.11": 0.999065,
    "3.12": 0.999096,
    "3.13": 0.999126,
    "3.14": 0.999155,
    "3.15": 0.999184,
    "3.16": 0.999211,
    "3.17": 0.999238,
    "3.18": 0.999264,
    "3.19": 0.999289,
    "3.20": 0.999313,
    "3.21": 0.999336,
    "3.22": 0.999359,
    "3.23": 0.999381,
    "3.24": 0.999402,
    "3.25": 0.999423,
    "3.26": 0.999443,
    "3.27": 0.999462,
    "3.28": 0.999481,
    "3.29": 0.999499,
    "3.30": 0.999517,
    "3.31": 0.999534,
    "3.32": 0.99955,
    "3.33": 0.999566,
    "3.34": 0.999581,
    "3.35": 0.999596,
    "3.36": 0.99961,
    "3.37": 0.999624,
    "3.38": 0.999638,
    "3.39": 0.999651,
    "3.40": 0.999663,
    "3.41": 0.999675,
    "3.42": 0.999687,
    "3.43": 0.999698,
    "3.44": 0.999709,
    "3.45": 0.99972,
    "3.46": 0.99973,
    "3.47": 0.99974,
    "3.48": 0.999749,
    "3.49": 0.999758,
    "3.50": 0.999767,
    "3.51": 0.999776,
    "3.52": 0.999784,
    "3.53": 0.999792,
    "3.54": 0.9998,
    "3.55": 0.999807,
    "3.56": 0.999815,
    "3.57": 0.999822,
    "3.58": 0.999828,
    "3.59": 0.999835,
    "3.60": 0.999841,
    "3.61": 0.999847,
    "3.62": 0.999853,
    "3.63": 0.999858,
    "3.64": 0.999864,
    "3.65": 0.999869,
    "3.66": 0.999874,
    "3.67": 0.999879,
    "3.68": 0.999883,
    "3.69": 0.999888,
    "3.70": 0.999892,
    "3.71": 0.999896,
    "3.72": 0.9999,
    "3.73": 0.999904,
    "3.74": 0.999908,
    "3.75": 0.999912,
    "3.76": 0.999915,
    "3.77": 0.999918,
    "3.78": 0.999922,
    "3.79": 0.999925,
    "3.80": 0.999928,
    "3.81": 0.999931,
    "3.82": 0.999933,
    "3.83": 0.999936,
    "3.84": 0.999938,
    "3.85": 0.999941,
    "3.86": 0.999943,
    "3.87": 0.999946,
    "3.88": 0.999948,
    "3.89": 0.99995,
    "3.90": 0.999952,
    "3.91": 0.999954,
    "3.92": 0.999956,
    "3.93": 0.999958,
    "3.94": 0.999959,
    "3.95": 0.999961,
    "3.96": 0.999963,
    "3.97": 0.999964,
    "3.98": 0.999966,
    "3.99": 0.999967
}

def lookup_phi(z):
    z = abs(z)
    key = "{:.2f}".format(round(z, 2))
    if key in phi_table:
        return phi_table[key]
    return 0.999999

def lookup_t_critical(gl, alpha):
    t_table = {
        1: {0.10: 3.078, 0.05: 6.314, 0.025: 12.706, 0.01: 31.821, 0.005: 63.657},
        5: {0.10: 2.015, 0.05: 2.571, 0.025: 4.032, 0.01: 5.893, 0.005: 8.610},
        10: {0.10: 1.812, 0.05: 2.228, 0.025: 3.169, 0.01: 4.144, 0.005: 5.587},
        15: {0.10: 1.341, 0.05: 2.131, 0.025: 2.947, 0.01: 3.733, 0.005: 4.073},
        20: {0.10: 1.325, 0.05: 2.086, 0.025: 2.845, 0.01: 3.552, 0.005: 3.850},
        25: {0.10: 1.316, 0.05: 2.060, 0.025: 2.787, 0.01: 3.450, 0.005: 3.725},
        30: {0.10: 1.310, 0.05: 2.042, 0.025: 2.750, 0.01: 3.385, 0.005: 3.646},
        60: {0.10: 1.296, 0.05: 2.000, 0.025: 2.660, 0.01: 2.915, 0.005: 3.232},
        120:{0.10: 1.289, 0.05: 1.980, 0.025: 2.617, 0.01: 2.860, 0.005: 3.160},
        999:{0.10: 1.282, 0.05: 1.960, 0.025: 2.576, 0.01: 2.807, 0.005: 3.090}
    }
    keys = list(t_table.keys())
    gl = min(keys, key=lambda x: abs(x - gl))
    return t_table[gl]

def main():
    print("Teste? (Z/T):")
    tipo = input().upper()
    print("media:")
    x = float(input())
    print("u:")
    mu = float(input())
    print("n:")
    n = int(input())

    if tipo == "Z":
        print("dp:")
        sigma = float(input())
        z = (x - mu) / (sigma / n ** 0.5)
        phi = lookup_phi(z)
        print("z =", z)
        print("P(B) =", 2 * (1 - phi))
        print("P(UE) =", phi)
        print("P(UD) =", 1 - phi)

    elif tipo == "T":
        print("s:")
        s = float(input())
        t = (x - mu) / (s / n ** 0.5)
        gl = n - 1
        print("t =", t)
        print("gl =", gl)
        print("Consulta tabela t com alpha (ex: 0.05) se quiser comparar com valor crítico.")
    else:
        print("Tipo inválido.")

main()

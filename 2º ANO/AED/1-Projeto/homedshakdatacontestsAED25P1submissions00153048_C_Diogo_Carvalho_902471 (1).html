<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Report of submission 00153048_C_Diogo_Carvalho_90247</title>
<link
rel	="stylesheet"
href	="../../styles/base.css"
type	="text/css">
</head>
<body>
<h2>Report #1</h2>

<table>
<tr>
<th>Submission</th>
<td>
<a href="?inspect+data/contests/AED25P1/submissions/00153048_C_Diogo_Carvalho_90247">00153048_C_Diogo_Carvalho_90247</a>
</td>
</tr>
<tr>
<th>File</th>
<td>
<a href="?inspect+data/contests/AED25P1/submissions/00153048_C_Diogo_Carvalho_90247/Story.java">Story.java</a>
<a href="data/contests/AED25P1/submissions/00153048_C_Diogo_Carvalho_90247/Story.java">[Download]</a>
</td>

<tr><th>Received</td>	<td>Tue Sep 23 11:58:22 +0100 2025</td></tr>
<tr><th>Analyzed</td>	<td>Tue Sep 23 11:58:22 +0100 2025 (0:00:00)</td></tr><tr>
<th>Team</th>
<td>
<a href="?inspect+data/contests/AED25P1/groups/students/Diogo_Carvalho_90247">
Diogo_Carvalho_90247
</a> Login: <code>Diogo_Carvalho_90247</code> Group: students [students]
</td><tr>
<th>Language</th>
<td>
<a href="?inspect+data/contests/AED25P1/languages/Java">
Java
</a>
</td><tr>
<th>Problem</th>
<td>
<a href="?inspect+data/contests/AED25P1/problems/C">
C: Story
</a>
</td><tr>
<th>Compilation</th>
<td></td>
</tr>
</table><p>
<table
border="1"
width="100%">
<tr>
<th>Test</th>
<th>Expected</th>
<th>Obtained</th>
<th>Differences</th>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC01">
testC01
</a><br>
T=0.078 sec<br>
E=0 sec<br>
M=183844 Kb<br>
<br>
</td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>constructor<font size="-1">[]</font>with<font size="-1">[]</font>errors<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font></pre></td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>constructor<font size="-1">[]</font>with<font size="-1">[]</font>errors<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font></pre></td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>constructor<font size="-1">[]</font>with<font size="-1">[]</font>errors<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font>IllegalArgumentException<font size="-1">[]</font>launched:<font size="-1">[]</font>true.<font size="-1">\n
</font></pre></td>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC02">
testC02
</a><br>
T=0.099 sec<br>
E=0 sec<br>
M=184024 Kb<br>
<br>
</td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>constructor<font size="-1">[]</font>and<font size="-1">[]</font>get<font size="-1">[]</font>title/current<font size="-1">\n
</font>Title<font size="-1">\n
</font>[0]<font size="-1">\n
</font>Morreste<font size="-1">\n
</font><FAILED><font size="-1">\n
</font></pre></td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>constructor<font size="-1">[]</font>and<font size="-1">[]</font>get<font size="-1">[]</font>title/current<font size="-1">\n
</font>Title<font size="-1">\n
</font>[0]<font size="-1">\n
</font>Morreste<font size="-1">\n
</font><FAILED><font size="-1">\n
</font></pre></td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>constructor<font size="-1">[]</font>and<font size="-1">[]</font>get<font size="-1">[]</font>title/current<font size="-1">\n
</font>Title<font size="-1">\n
</font>[0]<font size="-1">\n
</font>Morreste<font size="-1">\n
</font><FAILED><font size="-1">\n
</font></pre></td>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC03">
testC03
</a><br>
T=0.070 sec<br>
E=0 sec<br>
M=183872 Kb<br>
<font color="red">Wrong Answer</font><br>
</td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>parse<font size="-1">[]</font>with<font size="-1">[]</font>problematic<font size="-1">[]</font>files<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>file<font size="-1">[]</font>or<font size="-1">[]</font>error<font size="-1">[]</font>opening<font size="-1">[]</font>file!<font size="-1">\n
</font>null<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>number<font size="-1">[]</font>format<font size="-1">[]</font>when<font size="-1">[]</font>parsing!<font size="-1">\n
</font>null<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>number<font size="-1">[]</font>format<font size="-1">[]</font>when<font size="-1">[]</font>parsing!<font size="-1">\n
</font>null<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>number<font size="-1">[]</font>format<font size="-1">[]</font>when<font size="-1">[]</font>parsing!<font size="-1">\n
</font>null<font size="-1">\n
</font></pre></td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>parse<font size="-1">[]</font>with<font size="-1">[]</font>problematic<font size="-1">[]</font>files<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>file<font size="-1">[]</font>or<font size="-1">[]</font>error<font size="-1">[]</font>opening<font size="-1">[]</font>file!<font size="-1">\n
</font>null<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>number<font size="-1">[]</font>format!<font size="-1">\n
</font>null<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>number<font size="-1">[]</font>format!<font size="-1">\n
</font>null<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>number<font size="-1">[]</font>format!<font size="-1">\n
</font>null<font size="-1">\n
</font></pre></td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>parse<font size="-1">[]</font>with<font size="-1">[]</font>problematic<font size="-1">[]</font>files<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>file<font size="-1">[]</font>or<font size="-1">[]</font>error<font size="-1">[]</font>opening<font size="-1">[]</font>file!<font size="-1">\n
</font>null<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>number<font size="-1">[]</font>format<font color='red'><U><font size="-1">[]</font>when<font size="-1">[]</font>parsing</U></font>!<font size="-1">\n
</font>null<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>number<font size="-1">[]</font>format<font color='red'><U><font size="-1">[]</font>when<font size="-1">[]</font>parsing</U></font>!<font size="-1">\n
</font>null<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>number<font size="-1">[]</font>format<font color='red'><U><font size="-1">[]</font>when<font size="-1">[]</font>parsing</U></font>!<font size="-1">\n
</font>null<font size="-1">\n
</font></pre></td>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC04">
testC04
</a><br>
T=0.096 sec<br>
E=0 sec<br>
M=183972 Kb<br>
<br>
</td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing parse with small story
Floresta e Deserto
[0]
A sua aventura - tal como a sua sanidade - chegou a um cruzamento.
A direita, a floresta das Sombras Eternas sussurra segredos que nao
deviam ser ouvidos. A esquerda, o Deserto dos Ossos Quebrados
estala a sua esperanca de qualquer salvacao. Inspire o medo. Expire
a esperanca. Faca a sua escolha.
+ 1. Seguir para a floresta das Sombras Eternas
+ 2. Seguir para o deserto dos Ossos Quebrados
Debug Info: Testing parse with large story...</pre></td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing parse with small story
Floresta e Deserto
[0]
A sua aventura - tal como a sua sanidade - chegou a um cruzamento.
A direita, a floresta das Sombras Eternas sussurra segredos que nao
deviam ser ouvidos. A esquerda, o Deserto dos Ossos Quebrados
estala a sua esperanca de qualquer salvacao. Inspire o medo. Expire
a esperanca. Faca a sua escolha.
+ 1. Seguir para a floresta das Sombras Eternas
+ 2. Seguir para o deserto dos Ossos Quebrados
Debug Info: Testing parse with large story...</pre></td>
<td valign="top"><pre></pre></td>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC05">
testC05
</a><br>
T=0.086 sec<br>
E=0 sec<br>
M=183820 Kb<br>
<font color="red">Wrong Answer</font><br>
</td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing nonInteractivePlay and reset
WAITING
[0]
A sua aventura - tal como a sua sanidade - chegou a um cruzamento.
A direita, a floresta das Sombras Eternas sussurra segredos que nao
deviam ser ouvidos. A esquerda, o Deserto dos Ossos Quebrados
estala a sua esperanca de qualquer salvacao. Inspire o medo. Expire
a esperanca. Faca a sua escolha.
+ 1. Seguir para a floresta das Sombras Eternas
+ 2. Seguir para o deserto dos Ossos Quebrados
FAILED
[2]
Num ultimo espasmo de coragem - ou l...</pre></td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing nonInteractivePlay and reset
WAITING
[0]
A sua aventura - tal como a sua sanidade - chegou a um cruzamento.
A direita, a floresta das Sombras Eternas sussurra segredos que nao
deviam ser ouvidos. A esquerda, o Deserto dos Ossos Quebrados
estala a sua esperanca de qualquer salvacao. Inspire o medo. Expire
a esperanca. Faca a sua escolha.
+ 1. Seguir para a floresta das Sombras Eternas
+ 2. Seguir para o deserto dos Ossos Quebrados
WAITING
[0]
A sua aventura - tal como a sua san...</pre></td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
11,22c11,19
< FAILED
< [2]
< Num ultimo espasmo de coragem - ou loucura - lanca-se para a
< escuridao gotejante da gruta, fugindo no panico cego da criatura
< cujo bafo putrido ja aquece a sua nuca como um pressagio do fim.
< Mas e inutil. Ela conhece todos os seus recantos como se fosse a
< luz negra da sua alma. A gruta e dela. Sempre foi. E agora, tambem
< e sua. Garras surgem das trevas e, num unico movimento bruto,
< rasgam-no em dois, num terror estupefacto, sem um unico grito. So
< viscera...</pre></td>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC06">
testC06
</a><br>
T=0.100 sec<br>
E=0 sec<br>
M=183936 Kb<br>
<font color="red">Wrong Answer</font><br>
</td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>nonInteractivePlay<font size="-1">\n
</font>FAILED<font size="-1">\n
</font>[16]<font size="-1">\n
</font>As<font size="-1">[]</font>you<font size="-1">[]</font>rest,<font size="-1">[]</font>bandits<font size="-1">[]</font>ambush<font size="-1">[]</font>and<font size="-1">[]</font>overwhelm<font size="-1">[]</font>you.<font size="-1">\n
</font><FAILED><font size="-1">\n
</font>WON<font size="-1">\n
</font>[19]<font size="-1">\n
</font>You<font size="-1">[]</font>claim<font size="-1">[]</font>the<font size="-1">[]</font>Crown<font size="-1">[]</font>of<font size="-1">[]</font>Eternity.<font size="-1">[]</font>Power<font size="-1">[]</font>and<font size="-1">[]</font>glory<font size="-1">[]</font>are<font size="-1">[]</font>yours<font size="-1">[]</font>forever.<font size="-1">\n
</font><WON><font size="-1">\n
</font>WAITING<font size="-1">\n
</font>[8]<font size="-1">\n
</font>You<font size="-1">[]</font>reach<font size="-1">[]</font>a<font size="-1">[]</font>cave<font size="-1">[]</font>entrance<font size="-1">[]</font>carved<font size="-1">[]</font>into<font size="-1">[]</font>the<font size="-1">[]</font>cliffs.<font size="-1">\n
</font>+<font size="-1">[]</font>14.<font size="-1">[]</font>Enter<font size="-1">[]</font>the<font size="-1">[]</font>cave<font size="-1">\n
</font>+<font size="-1">[]</font>16.<font size="-1">[]</font>Rest<font size="-1">[]</font>outside<font size="-1">\n
</font></pre></td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>nonInteractivePlay<font size="-1">\n
</font>FAILED<font size="-1">\n
</font>[16]<font size="-1">\n
</font>As<font size="-1">[]</font>you<font size="-1">[]</font>rest,<font size="-1">[]</font>bandits<font size="-1">[]</font>ambush<font size="-1">[]</font>and<font size="-1">[]</font>overwhelm<font size="-1">[]</font>you.<font size="-1">\n
</font><FAILED><font size="-1">\n
</font>WAITING<font size="-1">\n
</font>[0]<font size="-1">\n
</font>You<font size="-1">[]</font>stand<font size="-1">[]</font>at<font size="-1">[]</font>the<font size="-1">[]</font>edge<font size="-1">[]</font>of<font size="-1">[]</font>the<font size="-1">[]</font>Dark<font size="-1">[]</font>Forest,<font size="-1">[]</font>seeking<font size="-1">[]</font>the<font size="-1">[]</font>Crown<font size="-1">[]</font>of<font size="-1">[]</font>Eternity.<font size="-1">\n
</font>+<font size="-1">[]</font>1.<font size="-1">[]</font>Enter<font size="-1">[]</font>the<font size="-1">[]</font>forest<font size="-1">\n
</font>+<font size="-1">[]</font>2.<font size="-1">[]</font>Follow<font size="-1">[]</font>the<font size="-1">[]</font>river<font size="-1">\n
</font>WAITING<font size="-1">\n
</font>[0]<font size="-1">\n
</font>You<font size="-1">[]</font>stand<font size="-1">[]</font>at<font size="-1">[]</font>the<font size="-1">[]</font>edge<font size="-1">[]</font>of<font size="-1">[]</font>the<font size="-1">[]</font>Dark<font size="-1">[]</font>Forest,<font size="-1">[]</font>seeking<font size="-1">[]</font>the<font size="-1">[]</font>Crown<font size="-1">[]</font>of<font size="-1">[]</font>Eternity.<font size="-1">\n
</font>+<font size="-1">[]</font>1.<font size="-1">[]</font>Enter<font size="-1">[]</font>the<font size="-1">[]</font>forest<font size="-1">\n
</font>+<font size="-1">[]</font>2.<font size="-1">[]</font>Follow<font size="-1">[]</font>the<font size="-1">[]</font>river<font size="-1">\n
</font></pre></td>
<td valign="top"><pre><i>Não<font size="-1">[]</font>comparáveis</i></pre></td>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC07">
testC07
</a><br>
T=0.090 sec<br>
E=0 sec<br>
M=183840 Kb<br>
<br>
</td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>saveStoryState<font size="-1">\n
</font>FAILED<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>file<font size="-1">[]</font>or<font size="-1">[]</font>error<font size="-1">[]</font>opening<font size="-1">[]</font>file!<font size="-1">\n
</font>false<font size="-1">\n
</font>Story<font size="-1">[]</font>state<font size="-1">[]</font>saved<font size="-1">[]</font>successfully.<font size="-1">\n
</font>true<font size="-1">\n
</font>Story<font size="-1">[]</font>state<font size="-1">[]</font>saved<font size="-1">[]</font>successfully.<font size="-1">\n
</font>true<font size="-1">\n
</font>Floresta<font size="-1">[]</font>e<font size="-1">[]</font>Deserto<font size="-1">\n
</font>2<font size="-1">\n
</font></pre></td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>saveStoryState<font size="-1">\n
</font>FAILED<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>file<font size="-1">[]</font>or<font size="-1">[]</font>error<font size="-1">[]</font>opening<font size="-1">[]</font>file!<font size="-1">\n
</font>false<font size="-1">\n
</font>Story<font size="-1">[]</font>state<font size="-1">[]</font>saved<font size="-1">[]</font>successfully.<font size="-1">\n
</font>true<font size="-1">\n
</font>Story<font size="-1">[]</font>state<font size="-1">[]</font>saved<font size="-1">[]</font>successfully.<font size="-1">\n
</font>true<font size="-1">\n
</font>Floresta<font size="-1">[]</font>e<font size="-1">[]</font>Deserto<font size="-1">\n
</font>2<font size="-1">\n
</font></pre></td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>saveStoryState<font size="-1">\n
</font>FAILED<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>file<font size="-1">[]</font>or<font size="-1">[]</font>error<font size="-1">[]</font>opening<font size="-1">[]</font>file!<font size="-1">\n
</font>false<font size="-1">\n
</font>Story<font size="-1">[]</font>state<font size="-1">[]</font>saved<font size="-1">[]</font>successfully.<font size="-1">\n
</font>true<font size="-1">\n
</font>Story<font size="-1">[]</font>state<font size="-1">[]</font>saved<font size="-1">[]</font>successfully.<font size="-1">\n
</font>true<font size="-1">\n
</font>Floresta<font size="-1">[]</font>e<font size="-1">[]</font>Deserto<font size="-1">\n
</font>2<font size="-1">\n
</font></pre></td>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC08">
testC08
</a><br>
T=0.114 sec<br>
E=0 sec<br>
M=184016 Kb<br>
<br>
</td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing loadStoryState
[0]
A sua aventura - tal como a sua sanidade - chegou a um cruzamento.
A direita, a floresta das Sombras Eternas sussurra segredos que nao
deviam ser ouvidos. A esquerda, o Deserto dos Ossos Quebrados
estala a sua esperanca de qualquer salvacao. Inspire o medo. Expire
a esperanca. Faca a sua escolha.
+ 1. Seguir para a floresta das Sombras Eternas
+ 2. Seguir para o deserto dos Ossos Quebrados
Story state loaded successfully.
true
[1]
Atravessa o limiar da flore...</pre></td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing loadStoryState
[0]
A sua aventura - tal como a sua sanidade - chegou a um cruzamento.
A direita, a floresta das Sombras Eternas sussurra segredos que nao
deviam ser ouvidos. A esquerda, o Deserto dos Ossos Quebrados
estala a sua esperanca de qualquer salvacao. Inspire o medo. Expire
a esperanca. Faca a sua escolha.
+ 1. Seguir para a floresta das Sombras Eternas
+ 2. Seguir para o deserto dos Ossos Quebrados
Story state loaded successfully.
true
[1]
Atravessa o limiar da flore...</pre></td>
<td valign="top"><pre></pre></td>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC09">
testC09
</a><br>
T=0.124 sec<br>
E=0 sec<br>
M=183972 Kb<br>
<font color="red">Wrong Answer</font><br>
</td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>loadStoryState<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>file<font size="-1">[]</font>or<font size="-1">[]</font>error<font size="-1">[]</font>opening<font size="-1">[]</font>file!<font size="-1">\n
</font>false<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>number<font size="-1">[]</font>format<font size="-1">[]</font>when<font size="-1">[]</font>parsing!<font size="-1">\n
</font>false<font size="-1">\n
</font>The<font size="-1">[]</font>loaded<font size="-1">[]</font>story<font size="-1">[]</font>name<font size="-1">[]</font>does<font size="-1">[]</font>not<font size="-1">[]</font>match.<font size="-1">[]</font>Loading<font size="-1">[]</font>aborted.<font size="-1">\n
</font>false<font size="-1">\n
</font>The<font size="-1">[]</font>scene<font size="-1">[]</font>in<font size="-1">[]</font>the<font size="-1">[]</font>loaded<font size="-1">[]</font>file<font size="-1">[]</font>is<font size="-1">[]</font>not<font size="-1">[]</font>valid.<font size="-1">[]</font>Loading<font size="-1">[]</font>aborted.<font size="-1">\n
</font>false<font size="-1">\n
</font>Story<font size="-1">[]</font>state<font size="-1">[]</font>loaded<font size="-1">[]</font>successfully.<font size="-1">\n
</font>true<font size="-1">\n
</font>[18]<font size="-1">\n
</font>You<font size="-1">[]</font>stand<font size="-1">[]</font>in<font size="-1">[]</font>the<font size="-1">[]</font>castle's<font size="-1">[]</font>throne<font size="-1">[]</font>room.<font size="-1">[]</font>The<font size="-1">[]</font>Crown<font size="-1">[]</font>of<font size="-1">[]</font>Eternity<font size="-1">[]</font>rests<font size="-1">[]</font>before<font size="-1">[]</font>you.<font size="-1">\n
</font>+<font size="-1">[]</font>19.<font size="-1">[]</font>Take<font size="-1">[]</font>the<font size="-1">[]</font>Crown<font size="-1">\n
</font></pre></td>
<td valign="top"><pre>Debug<font size="-1">[]</font>Info:<font size="-1">[]</font>Testing<font size="-1">[]</font>loadStoryState<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>file<font size="-1">[]</font>or<font size="-1">[]</font>error<font size="-1">[]</font>opening<font size="-1">[]</font>file!<font size="-1">\n
</font>false<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>number<font size="-1">[]</font>format!<font size="-1">\n
</font>false<font size="-1">\n
</font>Error:<font size="-1">[]</font>story<font size="-1">[]</font>title<font size="-1">[]</font>in<font size="-1">[]</font>file<font size="-1">[]</font>does<font size="-1">[]</font>not<font size="-1">[]</font>match.<font size="-1">\n
</font>false<font size="-1">\n
</font>Error:<font size="-1">[]</font>invalid<font size="-1">[]</font>scene<font size="-1">[]</font>id<font size="-1">[]</font>in<font size="-1">[]</font>file.<font size="-1">\n
</font>false<font size="-1">\n
</font>Story<font size="-1">[]</font>state<font size="-1">[]</font>loaded<font size="-1">[]</font>successfully.<font size="-1">\n
</font>true<font size="-1">\n
</font>[18]<font size="-1">\n
</font>You<font size="-1">[]</font>stand<font size="-1">[]</font>in<font size="-1">[]</font>the<font size="-1">[]</font>castle's<font size="-1">[]</font>throne<font size="-1">[]</font>room.<font size="-1">[]</font>The<font size="-1">[]</font>Crown<font size="-1">[]</font>of<font size="-1">[]</font>Eternity<font size="-1">[]</font>rests<font size="-1">[]</font>before<font size="-1">[]</font>you.<font size="-1">\n
</font>+<font size="-1">[]</font>19.<font size="-1">[]</font>Take<font size="-1">[]</font>the<font size="-1">[]</font>Crown<font size="-1">\n
</font></pre></td>
<td valign="top"><pre><i>Não<font size="-1">[]</font>comparáveis</i></pre></td>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC10">
testC10
</a><br>
T=0.098 sec<br>
E=1 sec<br>
M=183980 Kb<br>
<font color="red">Wrong Answer</font><br>
</td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing interactivePlay
Floresta e Deserto
[0]
A sua aventura - tal como a sua sanidade - chegou a um cruzamento.
A direita, a floresta das Sombras Eternas sussurra segredos que nao
deviam ser ouvidos. A esquerda, o Deserto dos Ossos Quebrados
estala a sua esperanca de qualquer salvacao. Inspire o medo. Expire
a esperanca. Faca a sua escolha.
+ 1. Seguir para a floresta das Sombras Eternas
+ 2. Seguir para o deserto dos Ossos Quebrados
Select your option: Invalid option. Please enter ...</pre></td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing interactivePlay
Floresta e Deserto
[0]
A sua aventura - tal como a sua sanidade - chegou a um cruzamento.
A direita, a floresta das Sombras Eternas sussurra segredos que nao
deviam ser ouvidos. A esquerda, o Deserto dos Ossos Quebrados
estala a sua esperanca de qualquer salvacao. Inspire o medo. Expire
a esperanca. Faca a sua escolha.
+ 1. Seguir para a floresta das Sombras Eternas
+ 2. Seguir para o deserto dos Ossos Quebrados
Select your option: Invalid option. Please enter ...</pre></td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
11a12,19
> [0]
> A sua aventura - tal como a sua sanidade - chegou a um cruzamento.
> A direita, a floresta das Sombras Eternas sussurra segredos que nao
> deviam ser ouvidos. A esquerda, o Deserto dos Ossos Quebrados
> estala a sua esperanca de qualquer salvacao. Inspire o medo. Expire
> a esperanca. Faca a sua escolha.
> + 1. Seguir para a floresta das Sombras Eternas
> + 2. Seguir para o deserto dos Ossos Quebrados
12a21,28
> [0]
> A sua aventura - tal como a sua sanidade - chegou a um cruzame...</pre></td>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC11">
testC11
</a><br>
T=0.126 sec<br>
E=0 sec<br>
M=183856 Kb<br>
<font color="red">Wrong Answer</font><br>
</td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing interactivePlay
The Crown of Eternity
[0]
You stand at the edge of the Dark Forest, seeking the Crown of Eternity.
+ 1. Enter the forest
+ 2. Follow the river
Select your option: [2]
You follow the river as it winds deeper into the kingdom.
+ 9. Build a raft
+ 10. Cross a bridge ahead
Select your option: [10]
You find a bridge guarded by a troll demanding passage.
+ 12. Pay with gold
+ 13. Fight the troll
Select your option: Error: invalid file or error opening file!
Select yo...</pre></td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing interactivePlay
The Crown of Eternity
[0]
You stand at the edge of the Dark Forest, seeking the Crown of Eternity.
+ 1. Enter the forest
+ 2. Follow the river
Select your option: [2]
You follow the river as it winds deeper into the kingdom.
+ 9. Build a raft
+ 10. Cross a bridge ahead
Select your option: [10]
You find a bridge guarded by a troll demanding passage.
+ 12. Pay with gold
+ 13. Fight the troll
Select your option: Error: invalid file or error opening file!
[10]
You ...</pre></td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
15a16,19
> [10]
> You find a bridge guarded by a troll demanding passage.
> + 12. Pay with gold
> + 13. Fight the troll
16a21,24
> [10]
> You find a bridge guarded by a troll demanding passage.
> + 12. Pay with gold
> + 13. Fight the troll
29,38c37
< Select your option: Story state loaded successfully.
< [10]
< You find a bridge guarded by a troll demanding passage.
< + 12. Pay with gold
< + 13. Fight the troll
< Select your option: [12]
< The troll takes your gold and lets you cross. You reach t...</pre></td>
</tr><tr>
<td valign="top">
<a href="?inspect+/home/dshak/data/contests/AED25P1/problems/C/tests/testC12">
testC12
</a><br>
T=0.119 sec<br>
E=0 sec<br>
M=183836 Kb<br>
<font color="red">Wrong Answer</font><br>
</td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing interactivePlay
The Crown of Eternity
[0]
You stand at the edge of the Dark Forest, seeking the Crown of Eternity.
+ 1. Enter the forest
+ 2. Follow the river
Select your option: [1]
You step into the forest. The air is thick with mist.
+ 3. Climb a tree to scout
+ 4. Keep walking forward
Select your option: [4]
A wolf appears on the trail, growling.
+ 6. Fight the wolf
+ 7. Flee into the woods
Select your option: [7]
You escape, but drop your pack of supplies in the rush.
+ 8...</pre></td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
Debug Info: Testing interactivePlay
The Crown of Eternity
[0]
You stand at the edge of the Dark Forest, seeking the Crown of Eternity.
+ 1. Enter the forest
+ 2. Follow the river
Select your option: [1]
You step into the forest. The air is thick with mist.
+ 3. Climb a tree to scout
+ 4. Keep walking forward
Select your option: [4]
A wolf appears on the trail, growling.
+ 6. Fight the wolf
+ 7. Flee into the woods
Select your option: [7]
You escape, but drop your pack of supplies in the rush.
+ 8...</pre></td>
<td valign="top"><pre><font color="orange"><i>Output demasiado longo: truncado</i></font>
30a31,34
> [3]
> You climb a tall tree. From above, you see ancient ruins in the distance.
> + 5. Head to the ruins
> + 4. Return to the path
31a36,39
> [3]
> You climb a tall tree. From above, you see ancient ruins in the distance.
> + 5. Head to the ruins
> + 4. Return to the path
49,66c57
< Select your option: Story state loaded successfully.
< [3]
< You climb a tall tree. From above, you see ancient ruins in the distance.
< + 5. Head to the ruins
< + 4. Return to the path
< Select your option...</pre></td>
</tr></table>
<p><table>
<tr>	<th>CPU	  </th><td>0.126 (1) sec</td>	</tr>
<tr>	<th>Memory	  </th><td>184024 kbytes</td>			</tr>
<tr>	<th>Classification</th><td>Wrong Answer</td>		</tr>
<tr>	<th>Mark</th>	  <td>5</td>		</tr>
<tr>
<th valign="top">Observations</th>
<td><pre></pre></td>
</tr>
<tr>
<th valign="top">Feedback</th>
<td><pre></pre></td>
</tr>

<tr>
<th>Code</th>
<td></td>
</table>
<pre>
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.InputStreamReader;
import java.lang.reflect.Field;
import java.lang.reflect.Method;
import java.util.HashMap;
import java.util.Map;

public class Story {

    public static final String FILE_ERROR = "Error: invalid file or error opening file!";
    public static final String NUMBER_FORMAT_ERROR = "Error: invalid number format!";
    public static final String SAVE_SUCCESS = "Story state saved successfully.";
    public static final String LOAD_SUCCESS = "Story state loaded successfully.";
    public static final String INVALID_LOAD_STORY_NAME = "Error: story title in file does not match.";
    public static final String INVALID_LOAD_SCENE = "Error: invalid scene id in file.";
    public static final String INVALID_NUMBER =
            "Invalid option. Please enter a number of an option, or one of the commands (PRINT,RESET,LOAD,SAVE).";
    public static final String INVALID_OPTION = "Invalid option. Such option does not exist.";

    private final String title;
    private final Node&lt;Scene&gt;[] nodes;                // nó inicial é nodes[0]
    private final Map&lt;Integer, Node&lt;Scene&gt;&gt; idToNode; // id da cena -&gt; nó
    private Node&lt;Scene&gt; current;

    public Story(String title, Node&lt;Scene&gt;[] nodes) {
        if (title == null || title.isEmpty() || nodes == null || nodes.length == 0) {
            throw new IllegalArgumentException("Invalid Story arguments");
        }
        this.title = title;
        this.nodes = nodes;
        this.current = nodes[0];
        this.idToNode = new HashMap&lt;&gt;();
        for (Node&lt;Scene&gt; n : nodes) {
            Scene s = nodeScene(n);
            if (s != null) idToNode.put(s.getId(), n);
        }
    }

    public String getTitle() { return title; }
    public Node&lt;Scene&gt; getCurrent() { return current; }
    public void reset() { current = nodes[0]; }

    public static Story parseStory(String fileName) {
        try (BufferedReader br = new BufferedReader(new FileReader(fileName))) {
            String title = br.readLine();
            if (title == null) { System.out.println(FILE_ERROR); return null; }

            String nLine = br.readLine();
            if (nLine == null) { System.out.println(NUMBER_FORMAT_ERROR); return null; }
            int n = Integer.parseInt(nLine.trim());
            if (n &lt;= 0) { System.out.println(NUMBER_FORMAT_ERROR); return null; }

            @SuppressWarnings("unchecked")
            Node&lt;Scene&gt;[] nodes = (Node&lt;Scene&gt;[]) new Node&lt;?&gt;[n];

            for (int i = 0; i &lt; n; i++) {
                Scene s = Scene.parseScene(br);      // pode lançar IOE/NFE
                nodes[i] = new Node&lt;Scene&gt;(s);       // usar tipo explícito para evitar warning
            }

            // mapa id -&gt; nó
            Map&lt;Integer, Node&lt;Scene&gt;&gt; idMap = new HashMap&lt;&gt;();
            for (Node&lt;Scene&gt; node : nodes) {
                Scene sc = nodeScene(node);
                if (sc != null) idMap.put(sc.getId(), node);
            }

            // ligar vizinhos se a implementação de Node expuser o método
            for (Node&lt;Scene&gt; node : nodes) {
                Scene sc = nodeScene(node);
                if (sc != null &amp;&amp; sc.getType() == Scene.Type.NORMAL) {
                    for (Option o : sc.getOptions()) {
                        Node&lt;Scene&gt; dest = idMap.get(o.getId());
                        if (dest != null) tryAddNeighbour(node, dest);
                    }
                }
            }

            return new Story(title, nodes);

        } catch (NumberFormatException e) {
            System.out.println(NUMBER_FORMAT_ERROR);
            return null;
        } catch (IOException e) {
            System.out.println(FILE_ERROR);
            return null;
        }
    }

    public void nonInteractivePlay() {
        try (BufferedReader br = new BufferedReader(new InputStreamReader(System.in))) {
            reset();
            String line;
            while (nodeScene(current).getType() == Scene.Type.NORMAL &amp;&amp;
                   (line = br.readLine()) != null) {
                line = line.trim();
                if (line.isEmpty()) continue;

                int choice;
                try { choice = Integer.parseInt(line); }
                catch (NumberFormatException e) { System.out.println("WAITING"); return; }

                Node&lt;Scene&gt; next = findNextByOption(nodeScene(current), choice);
                if (next == null) { System.out.println("WAITING"); return; }
                current = next;
            }

            Scene.Type t = nodeScene(current).getType();
            if (t == Scene.Type.WON) System.out.println("WON");
            else if (t == Scene.Type.FAILED) System.out.println("FAILED");
            else System.out.println("WAITING");

        } catch (IOException e) {
            System.out.println("WAITING");
        }
    }

    public boolean saveStoryState(String fileName) {
        try (BufferedWriter bw = new BufferedWriter(new FileWriter(fileName))) {
            bw.write(title); bw.newLine();
            bw.write(Integer.toString(nodeScene(current).getId())); bw.newLine();
            System.out.println(SAVE_SUCCESS);
            return true;
        } catch (IOException e) {
            System.out.println(FILE_ERROR);
            return false;
        }
    }

    public boolean loadStoryState(String fileName) {
        try (BufferedReader br = new BufferedReader(new FileReader(fileName))) {
            String fileTitle = br.readLine();
            if (fileTitle == null) { System.out.println(FILE_ERROR); return false; }

            String idLine = br.readLine();
            if (idLine == null) { System.out.println(NUMBER_FORMAT_ERROR); return false; }

            int targetId;
            try { targetId = Integer.parseInt(idLine.trim()); }
            catch (NumberFormatException e) { System.out.println(NUMBER_FORMAT_ERROR); return false; }

            if (!this.title.equals(fileTitle)) { System.out.println(INVALID_LOAD_STORY_NAME); return false; }

            Node&lt;Scene&gt; node = idToNode.get(targetId);
            if (node == null) { System.out.println(INVALID_LOAD_SCENE); return false; }

            this.current = node;
            System.out.println(LOAD_SUCCESS);
            return true;

        } catch (IOException e) {
            System.out.println(FILE_ERROR);
            return false;
        }
    }

    public void interactivePlay() {
        System.out.println(title);
        try (BufferedReader br = new BufferedReader(new InputStreamReader(System.in))) {
            while (true) {
                System.out.println(nodeScene(current).toString());

                Scene.Type type = nodeScene(current).getType();
                if (type == Scene.Type.WON || type == Scene.Type.FAILED) return;

                System.out.print("Select your option: ");
                String line = br.readLine();
                if (line == null) return;
                line = line.trim();
                if (line.isEmpty()) { System.out.println(INVALID_NUMBER); continue; }

                if (line.equalsIgnoreCase("RESET")) { reset(); continue; }
                if (line.equalsIgnoreCase("PRINT")) { continue; }
                if (line.toUpperCase().startsWith("SAVE")) {
                    String[] parts = line.split("\\s+", 2);
                    if (parts.length &lt; 2 || parts[1].trim().isEmpty()) System.out.println(FILE_ERROR);
                    else saveStoryState(parts[1].trim());
                    continue;
                }
                if (line.toUpperCase().startsWith("LOAD")) {
                    String[] parts = line.split("\\s+", 2);
                    if (parts.length &lt; 2 || parts[1].trim().isEmpty()) System.out.println(FILE_ERROR);
                    else loadStoryState(parts[1].trim());
                    continue;
                }

                int choice;
                try { choice = Integer.parseInt(line); }
                catch (NumberFormatException e) { System.out.println(INVALID_NUMBER); continue; }

                Node&lt;Scene&gt; next = findNextByOption(nodeScene(current), choice);
                if (next == null) System.out.println(INVALID_OPTION);
                else current = next;
            }
        } catch (IOException ignored) { }
    }

    /* ============================== Helpers ============================== */

    /** Obtém o Scene armazenado num Node&lt;Scene&gt;, mesmo que o método/campo tenha outro nome. */
    private static Scene nodeScene(Node&lt;Scene&gt; n) {
        if (n == null) return null;

        // 1) tentar métodos comuns
        String[] methodNames = {"getValue", "getElement", "getScene", "getData", "get"};
        for (String mn : methodNames) {
            try {
                Method m = n.getClass().getMethod(mn);
                Object v = m.invoke(n);
                if (v instanceof Scene) return (Scene) v;
            } catch (Exception ignore) {}
        }

        // 2) tentar campos comuns
        String[] fieldNames = {"value", "element", "scene", "data", "obj"};
        for (String fn : fieldNames) {
            try {
                Field f = n.getClass().getDeclaredField(fn);
                f.setAccessible(true);
                Object v = f.get(n);
                if (v instanceof Scene) return (Scene) v;
            } catch (Exception ignore) {}
        }

        // 3) procurar qualquer campo do tipo Scene
        try {
            for (Field f : n.getClass().getDeclaredFields()) {
                f.setAccessible(true);
                Object v = f.get(n);
                if (v instanceof Scene) return (Scene) v;
            }
        } catch (Exception ignore) {}

        throw new IllegalStateException("Cannot access Scene value from Node");
    }

    /** Tenta chamar addNeighbour/addNeighbor, se existir; caso contrário, ignora. */
    private static void tryAddNeighbour(Node&lt;Scene&gt; a, Node&lt;Scene&gt; b) {
        String[] names = {"addNeighbour", "addNeighbor"};
        for (String nm : names) {
            try {
                Method m = a.getClass().getMethod(nm, a.getClass());
                m.invoke(a, b);
                return;
            } catch (Exception ignore) {}
        }
    }

    /** Encontra o nó de destino pelo id da opção usando o mapa id-&gt;nó. */
    private Node&lt;Scene&gt; findNextByOption(Scene scene, int optionId) {
        for (Option o : scene.getOptions()) {
            if (o.getId() == optionId) return idToNode.get(optionId);
        }
        return null;
    }
}

</pre>

</body>